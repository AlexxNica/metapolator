$def with (master, A_glyphjson, B_glyphjson)
<title>
Project $master.FontName
</title>
<link rel="stylesheet" type="text/css" href="/static/mfg.css"/>
<script src="http://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.9/paper.js"></script>

$if master.FontNameB:
  <div class="row">
    <div class="col-md-4">
      <canvas id="canvas-a" width="600" height="600"></canvas>
    </div>

    <div class="col-md-4">
      <h3>Metapolation</h3>
    </div>

    <div class="col-md-4">
      <canvas id="canvas-b" width="600" height="600"></canvas>
    </div>
  </div>
$else:
  <div class="row">
    <div class="col-md-6">
      <canvas id="canvas-a" width="600" height="600"></canvas>
    </div>

    <div class="col-md-6">
      <h3>Metapolation</h3>
    </div>
  </div>


<script type="text/paperscript" canvas="canvas-a">
  function setText(point) {
      var text = new PointText(point);
      text.fillColor = 'black';
      text.content = point.x.toFixed(2) + ',' + point.y.toFixed(2);
  }
  var EDGE_JSON = $:A_glyphjson;
  var edges = EDGE_JSON.edges;
  for (var i = 0; i < edges.length; i++) {
      for (var j = 0; j < edges[i].contours.length; j++) {
          var path = new Path();
          var contours = edges[i].contours[j];
          for (var k = 0; k < contours.length; k++) { // contours.length
              contour = contours[k];
              console.log(contour);

              var point = new Point(Number(contour.x), 500 - Number(contour.y));
              var handleIn = new Point(Number(contour.controls[0].x) - Number(contour.x),
                                       Number(contour.y) - Number(contour.controls[0].y));
              var handleOut = new Point(Number(contour.controls[1].x) - Number(contour.x),
                                        Number(contour.y) - Number(contour.controls[1].y));
              segment = new Segment(point, handleIn, handleOut);
              // setText(point);
              path.add(segment);
          }
          path.closed = true;
          path.selected = true;
          path.fullySelected = true;
          path.strokeColor = 'black';
          path.position.y += +500;
          path.position.x += +100;
          path.fillColor = {
              hue: 360 * Math.random(),
              saturation: 1,
              brightness: 1,
              alpha: 0.5
          };
      }
  }
</script>

$if master.FontNameB:
  <script type="text/paperscript" canvas="canvas-b">
  function setText(point) {
      var text = new PointText(point);
      text.fillColor = 'black';
      text.content = point.x.toFixed(2) + ',' + point.y.toFixed(2);
  }
  var EDGE_JSON = $:B_glyphjson;
  var edges = EDGE_JSON.edges;
  for (var i = 0; i < edges.length; i++) {
      for (var j = 0; j < edges[i].contours.length; j++) {
          var path = new Path();
          var contours = edges[i].contours[j];
          for (var k = 0; k < contours.length; k++) { // contours.length
              contour = contours[k];
              console.log(contour);

              var point = new Point(Number(contour.x), 500 - Number(contour.y));
              var handleIn = new Point(Number(contour.controls[0].x) - Number(contour.x),
                                       Number(contour.y) - Number(contour.controls[0].y));
              var handleOut = new Point(Number(contour.controls[1].x) - Number(contour.x),
                                        Number(contour.y) - Number(contour.controls[1].y));
              segment = new Segment(point, handleIn, handleOut);
              // setText(point);
              path.add(segment);
          }
          path.closed = true;
          path.selected = true;
          path.fullySelected = true;
          path.strokeColor = 'black';
          path.position.y += +500;
          path.position.x += +100;
          path.fillColor = {
              hue: 360 * Math.random(),
              saturation: 1,
              brightness: 1,
              alpha: 0.5
          };
      }
  }
  </script>